{% extends '@EasyAdmin/crud/index.html.twig' %}
{% block batch_actions %}
	{% if has_batch_actions %}
		<div class="batch-actions d-none">
			<div class="d-flex align-items-start">
				{% for action in batch_actions %}
					{% if action.name == 'batchAssociate' %}
						<div class="col me-2">
							{{ form_start(formProjectReferenceAssociation, {'method': 'POST', 'attr': {'action': action.linkUrl, 'id': 'form-project-reference-association'}}) }}
							{{ form_widget(formProjectReferenceAssociation.projectReference, {'attr': {'style': 'max-width:200px;'}}) }}
							{{ form_widget(formProjectReferenceAssociation.batchActionName, {'value': action.htmlAttributes['data-action-name']}) }}
							{{ form_widget(formProjectReferenceAssociation.entityFqcn, {'value': action.htmlAttributes['data-entity-fqcn']}) }}
							{{ form_widget(formProjectReferenceAssociation.batchActionUrl, {'value': action.htmlAttributes['data-action-url']}) }}
							{{ form_widget(formProjectReferenceAssociation.batchActionCsrfToken, {'value': action.htmlAttributes['data-action-csrf-token'].value}) }}
							<button type="submit" class="btn btn-info text-nowrap">Associer la sélection</button>
							{{ form_end(formProjectReferenceAssociation)}}
						</div>
					{% elseif action.name == 'batchAssociateKeyword' %}
						<div class="col me-2">
							{{ form_start(formKeywordReferenceAssociation, {'method': 'POST', 'attr': {'action': action.linkUrl, 'id': 'form-keyword-reference-association'}}) }}
							{{ form_widget(formKeywordReferenceAssociation.keywordReferences, {'attr': {'style': 'max-width:200px;'}}) }}
							{{ form_widget(formKeywordReferenceAssociation.batchActionName, {'value': action.htmlAttributes['data-action-name']}) }}
							{{ form_widget(formKeywordReferenceAssociation.entityFqcn, {'value': action.htmlAttributes['data-entity-fqcn']}) }}
							{{ form_widget(formKeywordReferenceAssociation.batchActionUrl, {'value': action.htmlAttributes['data-action-url']}) }}
							{{ form_widget(formKeywordReferenceAssociation.batchActionCsrfToken, {'value': action.htmlAttributes['data-action-csrf-token'].value}) }}
							<button type="submit" class="btn btn-info text-nowrap">Associer la sélection</button>
							{{ form_end(formKeywordReferenceAssociation)}}
						</div>
					{% else %}
						<div class="col">
							{{ include(action.templatePath, { action: action }, with_context = false) }}
						</div>
					{% endif %}
				{% endfor %}
			</div>
		</div>
	{% endif %}
{% endblock %}
