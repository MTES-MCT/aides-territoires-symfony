{% extends 'admin/statistics/_stats_base.html.twig' %}

{% block breadcrumb %}
{% endblock %}

{% block head_javascript %}
    {{ parent() }}
    {{ encore_entry_script_tags('admin/admin') }}
    {{ encore_entry_script_tags('admin/statistics/project_reference/dashboard') }}
{% endblock head_javascript %}

{% block stats_content %}
<section class="container">
    <h1>Statistiques Projets référents</h1>
    <table class="table table-striped dataTable">
        <thead>
            <tr>
                <th>Projet référent</th>
                <th>Nombre d'aides associées</th>
            </tr>
        </thead>
        <tbody>
            {% for projectReference in projectReferences %}
                <tr>
                    <td>{{ projectReference.name }}</td>
                    <td>
                    {% if aidsUrlByProjectReferenceId[projectReference.id] is defined %}
                        <a href="{{ aidsUrlByProjectReferenceId[projectReference.id] }}">{{ projectReference.aids|length }}</a>
                    {% else %}
                    {{ projectReference.aids|length }}
                    {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}