{{ form_start(formAidSearch) }}
<div class="fr-card fr-mb-2w">
	<div class="fr-card__body">
		<div class="fr-card__content">


			<div class="form-container">
				<div class="form-body">

					<div class="fr-grid-row fr-grid-row--gutters fr-grid-row--bottom">

						<div class="fr-col-12 fr-col-md-3 {% if showAudienceField is defined and not showAudienceField %}fr-hidden{% endif %}">
							{{ form_row(formAidSearch.organizationType)}}
						</div>

						<div class="fr-col-12 fr-col-md-3 {% if showPerimeterField is defined and not showPerimeterField %}fr-hidden{% endif %}">
							{{ form_row(formAidSearch.searchPerimeter)}}
						</div>

						<div class="fr-col-12 fr-col-md-3 {% if showTextField is defined and not showTextField %}fr-hidden{% endif %}">
							{{ form_row(formAidSearch.keyword, {'value': formAidSearch.keyword.vars.value|htmlDecode}) }}
						</div>

						{% if formAidSearch.categorysearch is defined %}
						<div class="fr-col-12 fr-col-md-3 {% if showCategoriesField is defined and not showCategoriesField %}fr-hidden{% endif %}">
							{{ form_row(formAidSearch.categorysearch)}}
						</div>
						{% endif %}
					</div>

					<div id="search-form-extra-fields" class="{% if showExtended %}show{% endif %}">
						<div class="fr-grid-row fr-grid-row--gutters fr-grid-row--center fr-mb-2w">
							<div class="fr-col-12 fr-col-md-3 {% if showAidTypeField is defined and not showAidTypeField %}fr-hidden{% endif %}">
								{{ form_row(formAidSearch.aidTypes)}}
							</div>

							{% if formAidSearch.backerschoice is defined %}
								<div class="fr-col-12 fr-col-md-3 {% if showBackersField is defined and not showBackersField %}fr-hidden{% endif %}">
									{{ form_row(formAidSearch.backerschoice)}}
								</div>
							{% endif %}

							<div class="fr-col-12 fr-col-md-3">
								{{ form_row(formAidSearch.applyBefore)}}
							</div>
							{% if formAidSearch.programs is defined %}
								<div class="fr-col-12 fr-col-md-3">
									{{ form_row(formAidSearch.programs)}}
								</div>
							{% endif %}

							<div class="fr-col-12 fr-col-md-3 {% if showMobilizationStepField is defined and not showMobilizationStepField %}fr-hidden{% endif %}">
								{{ form_row(formAidSearch.aidSteps)}}
							</div>

							<div class="fr-col-12 fr-col-md-3">
								{{ form_row(formAidSearch.aidDestinations)}}
							</div>
							<div class="fr-col-12 fr-col-md-3">
								{{ form_row(formAidSearch.isCharged)}}
							</div>
							{% if formAidSearch.europeanAid is defined %}
								<div class="fr-col-12 fr-col-md-3">
									{{ form_row(formAidSearch.europeanAid)}}
								</div>
							{% endif %}
						</div>

						<div class="fr-grid-row fr-grid-row--gutters fr-grid-row--center fr-mb-2w fr-grid-row--bottom">
							<div class="fr-col-12 fr-col-md-3">
								{{ form_row(formAidSearch.backerGroup)}}
							</div>
							<div class="fr-col-12 fr-col-md-9">
								{{ form_row(formAidSearch.isCallForProject)}}
							</div>
						</div>
					</div>

					<div class="fr-mt-2w">
						{% if noAdvanceFilters is not defined %}
							<ul class="fr-btns-group fr-btns-group--center fr-btns-group--inline">
								<li>
									<button id="search-form-more-options" class="fr-btn fr-btn--tertiary-no-outline search-form-extra-action">
										{% if showExtended %}
											<span class="fr-icon-subtract-line" aria-hidden="true"></span>
											Masquer les critères avancés
										{% else %}
											<span class="fr-icon-add-line" aria-hidden="true"></span>
											Afficher les critères avancés
										{% endif %}
									</button>
								</li>
							</ul>
						{% endif %}
						<ul class="fr-btns-group fr-btns-group--center fr-btns-group--inline">
							{% if noNewSearch is not defined %}
								<li>
									<a href="/aides/" title="Nouvelle recherche" class="fr-btn fr-btn--tertiary-no-outline search-form-extra-action">
										<span class="fr-icon-arrow-go-back-line" aria-hidden="true"></span>
										Nouvelle recherche
									</a>
								</li>
							{% endif %}
							<li>
								<button class="fr-btn" title="Rechercher" type="submit">
									<span class="fr-icon-search-line fr-mr-1w" aria-hidden="true"></span>
									Rechercher
								</button>
							</li>
						</ul>
						<div></div>
					</div>

				</div>
			</div>


		</div>
	</div>
</div>


{% if myPager.getNbResults() and formAidSearchNoOrder is not defined %}
	<div class="fr-grid-row">
		<div class="fr-col-xs-12 fr-col-md-8">
			<ul class="fr-btns-group fr-btns-group--inline">
				<li>
					<button type="button" class="fr-btn fr-mr-0" title="Afficher les résultats en cartes" id="btn-results-card">
						<span class="ri-function-line"></span>
					</button>
				</li>
				<li>
					<button type="button" class="fr-btn fr-btn--secondary fr-mr-0" title="Afficher les résultats en liste" id="btn-results-list">
						<span class="ri-list-check"></span>
					</button>
				</li>
				<li>
					<p class="fr-btn fr-btn--tertiary-no-outline fr-ml-0" id="display-type">
						Affichage en cartes
					</p>
				</li>
				{% if formAidSearch.orderBy is defined %}
					<li>
						<div class="fr-select-group">
							{{ form_row(formAidSearch.orderBy)}}
						</div>
					</li>
				{% endif %}
			</ul>
		</div>

		<div class="fr-col-xs-12 fr-col-md-4">
			<ul class="fr-btns-group fr-btns-group--inline fr-btns-group--right">
				<li>
					<button type="button" class="fr-btn js" id="save-alert-btn" data-fr-opened="false" aria-controls="alert-search-modal">
						<span class="ri-notification-2-line ri-lg fr-mr-1w"></span>Créer une alerte
					</button>
				</li>
			</ul>
		</div>
	</div>
{% endif %}
{{ form_end(formAidSearch) }}
